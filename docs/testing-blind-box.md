# 3D Blind-box Figurine 功能测试计划

## 测试环境

- Mac电脑 M1芯片
- Next.js 15.3.1
- 最新的代码库

## 测试步骤

### 1. 基本功能测试

1. **界面显示测试**
   - 启动应用 `npm run dev`
   - 验证首页是否显示"3D Blind-box Figurine"工具卡片
   - 验证工具卡片是否显示正确的名称、描述和图标

2. **导航测试**
   - 点击"3D Blind-box Figurine"工具卡片
   - 验证是否正确跳转到工具详情页面 (/blind-box)
   - 验证详情页面是否显示正确的工具名称和描述

### 2. 图片上传测试

1. **选择图片**
   - 点击"Upload Image"按钮
   - 选择一张人物照片
   - 验证预览是否正确显示所选图片

2. **图片要求测试**
   - 尝试上传过大的图片（>5MB）
   - 验证是否显示文件大小警告
   - 尝试上传非图片文件
   - 验证是否显示文件类型警告

### 3. 处理功能测试

1. **处理启动测试**
   - 上传有效图片后，点击"Generate"按钮
   - 验证是否显示处理状态和进度条
   - 验证是否显示"Processing..."状态

2. **WebSocket连接测试**
   - 使用浏览器开发者工具，网络面板
   - 验证是否建立WebSocket连接
   - 验证是否收到进度更新消息

3. **结果显示测试**
   - 等待处理完成
   - 验证是否显示生成的3D盲盒人偶图片
   - 验证图片URL是否有效可访问
   - 检查生成的图片是否具有3D盲盒风格的特征

### 4. 错误处理测试

1. **无网络测试**
   - 断开网络连接
   - 尝试上传图片并生成
   - 验证是否显示网络错误提示

2. **处理超时测试**
   - 设置较短的超时时间（修改代码中的timeout值）
   - 上传大图片并启动处理
   - 验证是否正确处理超时情况并显示提示

3. **API错误测试**
   - 故意提供错误的API参数（如修改node_id为不存在的值）
   - 验证是否正确处理API错误并显示提示

### 5. 历史记录测试

1. **结果保存测试**
   - 成功生成图片后，刷新页面
   - 验证历史结果区域是否显示最近生成的图片
   - 多次生成不同图片，验证历史记录是否按时间倒序排列

### 6. 多种图片测试

1. **不同类型的肖像照**
   - 测试不同角度的肖像照（正面、侧面）
   - 测试不同光线条件下的照片
   - 测试不同背景复杂度的照片

2. **特殊场景测试**
   - 测试多人照片的处理效果
   - 测试只有半张脸的照片
   - 测试带有配饰（眼镜、帽子等）的照片

## 测试记录表

| 测试用例 | 预期结果 | 实际结果 | 通过/失败 | 备注 |
|---------|---------|---------|-----------|------|
| 界面显示 | 显示3D Blind-box工具卡片 | | | |
| 导航功能 | 跳转到工具详情页 | | | |
| 图片上传 | 显示预览图 | | | |
| 大图片警告 | 显示文件大小警告 | | | |
| 错误文件类型 | 显示文件类型警告 | | | |
| 处理启动 | 显示进度条和状态 | | | |
| WebSocket连接 | 建立连接并更新进度 | | | |
| 结果显示 | 显示生成的3D盲盒图片 | | | |
| 无网络处理 | 显示网络错误提示 | | | |
| 超时处理 | 显示超时提示 | | | |
| API错误处理 | 显示错误提示 | | | |
| 历史记录保存 | 显示历史生成结果 | | | |
| 正面肖像处理 | 生成符合预期的3D盲盒效果 | | | |
| 侧面肖像处理 | 生成符合预期的3D盲盒效果 | | | |
| 多人照片处理 | 正确处理或提示错误 | | | |
| 带配饰照片处理 | 正确处理配饰特征 | | | |

## 性能测试

1. **处理时间**
   - 记录从点击"Generate"到显示结果的总时间
   - 测试不同大小和复杂度的图片，记录处理时间差异
   - 标准测试：使用3张标准肖像照，记录平均处理时间

2. **响应性测试**
   - 在处理过程中尝试其他操作（如导航、上传新图片）
   - 验证UI是否保持响应

## 兼容性测试

1. **浏览器兼容性**
   - Chrome浏览器测试
   - Safari浏览器测试
   - Firefox浏览器测试（如可用）

2. **设备兼容性**
   - 桌面端测试
   - 移动端测试（iPhone/iPad）
   - 验证移动端上传和展示是否正常

## 测试总结

[待测试完成后填写]

## 发现的问题和解决方案

[待测试完成后填写] 